#1 [judge-server internal] load .dockerignore
#1 transferring context: 2B done
#1 DONE 0.0s

#2 [judge-server internal] load build definition from Dockerfile.judger
#2 transferring dockerfile: 2.15kB done
#2 DONE 0.0s

#3 [judge-server internal] load metadata for docker.io/library/ubuntu:20.04
#3 DONE 1.1s

#4 [judge-server  1/16] FROM docker.io/library/ubuntu:20.04@sha256:33a5cc25d22c45900796a1aca487ad7a7cb09f09ea00b779e3b2026b4fc2faba
#4 DONE 0.0s

#5 [judge-server internal] load build context
#5 transferring context: 192B done
#5 DONE 0.0s

#6 [judge-server  4/16] RUN buildDeps='software-properties-common git libtool cmake python3-dev python3-pip libseccomp-dev curl' &&     apt-get update && apt-get install -y python3 python3-pkg-resources $buildDeps &&     apt-get install -y gcc-9 g++-9 &&     update-alternatives --install  /usr/bin/gcc gcc /usr/bin/gcc-9 40 &&     update-alternatives --install  /usr/bin/g++ g++ /usr/bin/g++-9 40 &&     echo "STAGE 0 [\033[32mPASS\033[0m]" &&     cd /tmp
#6 CACHED

#7 [judge-server  8/16] RUN if [ "true" = "true" ]; then     git clone https://ghproxy.com/https://github.com/genuine-oj/judger.git code;     else     git clone https://github.com/genuine-oj/judger.git code;     fi
#7 CACHED

#8 [judge-server  6/16] RUN cd core &&     mkdir build && cd build && cmake .. && make && make install && cd ../wrapper &&     python3 setup.py install &&     echo "STAGE 1 [\033[32mPASS\033[0m]"
#8 CACHED

#9 [judge-server  3/16] RUN if [ "true" = "true" ]; then     sed -E -i -e 's/(archive|ports).ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g' -e '/security.ubuntu.com/d' /etc/apt/sources.list;     fi
#9 CACHED

#10 [judge-server  7/16] RUN cd /
#10 CACHED

#11 [judge-server  9/16] RUN cd /code && bash deploy.sh
#11 CACHED

#12 [judge-server  2/16] COPY config/java_policy /etc
#12 CACHED

#13 [judge-server  5/16] RUN if [ "true" = "true" ]; then     git clone https://ghproxy.com/https://github.com/genuine-oj/judger-core.git core;     else     git clone https://github.com/genuine-oj/judger-core.git core;     fi
#13 CACHED

#14 [judge-server 10/16] COPY ./config/judger-config.py /code/config.py
#14 CACHED

#15 [judge-server 11/16] RUN if [ "true" = "true" ]; then     pip3 install -i https://mirrors.aliyun.com/pypi/simple/ -I --no-cache-dir -r /code/requirements.txt;     else     pip3 install -I --no-cache-dir -r /code/requirements.txt;     fi
#15 1.322 Looking in indexes: https://mirrors.aliyun.com/pypi/simple/
#15 2.101 Collecting websockets~=10.4
#15 2.227   Downloading https://mirrors.aliyun.com/pypi/packages/3e/a5/e4535867a96bb07000c54172e1be82cd0b3a95339244cac1d400f8ba9b64/websockets-10.4-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (106 kB)
#15 2.289 Installing collected packages: websockets
#15 2.380 Successfully installed websockets-10.4
#15 DONE 2.4s

#16 [judge-server 12/16] RUN echo "STAGE 2 [\033[32mPASS\033[0m]" &&     apt-get purge -y --auto-remove $buildDeps &&     apt-get clean && rm -rf /var/lib/apt/lists/* &&     echo "STAGE 3 [\033[32mPASS\033[0m]"
#16 0.575 STAGE 2 [[32mPASS[0m]
#16 0.606 Reading package lists...
#16 1.384 Building dependency tree...
#16 1.562 Reading state information...
#16 1.828 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
#16 1.835 STAGE 3 [[32mPASS[0m]
#16 DONE 1.8s

#17 [judge-server 13/16] WORKDIR /code
#17 DONE 0.0s

#18 [judge-server 14/16] ADD ./config/unbuffer.c ./config/judger-entrypoint.sh /code/
#18 DONE 0.1s

#19 [judge-server 15/16] RUN gcc -shared -fPIC -o unbuffer.so unbuffer.c
#19 DONE 0.5s

#20 [judge-server 16/16] RUN chmod +x /code/judger-entrypoint.sh
#20 DONE 0.5s

#21 [judge-server] exporting to image
#21 exporting layers
#21 exporting layers 4.0s done
#21 writing image sha256:f999a6cf328665412fc5e4c56273e3db8c54f43ffc3e4e436831b2466feef2d7 done
#21 naming to docker.io/genuine-oj/judger:latest done
#21 DONE 4.0s

#22 [backend internal] load .dockerignore
#22 transferring context: 2B done
#22 DONE 0.0s

#23 [backend internal] load build definition from Dockerfile.backend
#23 transferring dockerfile: 1.28kB done
#23 DONE 0.0s

#24 [backend internal] load metadata for docker.io/library/python:3.10-bullseye
#24 DONE 3.2s

#25 [backend  1/10] FROM docker.io/library/python:3.10-bullseye@sha256:e7101b38f401dc7a88eb6c4f8314f1cb303d94c56bde345c417cc2c62ca704c2
#25 CACHED

#26 [backend internal] load build context
#26 transferring context: 2.06kB done
#26 DONE 0.0s

#27 [backend  2/10] RUN if [ "true" = "true" ]; then     sed -E -i -e 's/deb.debian.org/mirrors.tuna.tsinghua.edu.cn/g' /etc/apt/sources.list;     fi
#27 DONE 0.4s

#28 [backend  3/10] RUN apt-get update && apt-get install -y git supervisor && cd /srv
#28 19.83 Get:1 http://mirrors.tuna.tsinghua.edu.cn/debian bullseye InRelease [116 kB]
#28 19.93 Get:2 http://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security InRelease [48.4 kB]
#28 20.01 Get:3 http://mirrors.tuna.tsinghua.edu.cn/debian bullseye-updates InRelease [44.1 kB]
#28 20.59 Get:4 http://mirrors.tuna.tsinghua.edu.cn/debian bullseye/main amd64 Packages [8183 kB]
#28 21.07 Get:5 http://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security/main amd64 Packages [244 kB]
#28 21.14 Get:6 http://mirrors.tuna.tsinghua.edu.cn/debian bullseye-updates/main amd64 Packages [17.4 kB]
#28 21.93 Fetched 8653 kB in 21s (405 kB/s)
#28 21.93 Reading package lists...
#28 22.43 Reading package lists...
#28 22.98 Building dependency tree...
#28 23.10 Reading state information...
#28 23.26 git is already the newest version (1:2.30.2-1+deb11u2).
#28 23.26 Suggested packages:
#28 23.26   python3-setuptools supervisor-doc
#28 23.29 The following NEW packages will be installed:
#28 23.29   python3-pkg-resources supervisor
#28 23.60 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
#28 23.60 Need to get 499 kB of archives.
#28 23.60 After this operation, 2320 kB of additional disk space will be used.
#28 23.60 Get:1 http://mirrors.tuna.tsinghua.edu.cn/debian bullseye/main amd64 python3-pkg-resources all 52.0.0-4 [190 kB]
#28 23.72 Get:2 http://mirrors.tuna.tsinghua.edu.cn/debian bullseye/main amd64 supervisor all 4.2.2-2 [309 kB]
#28 24.02 debconf: delaying package configuration, since apt-utils is not installed
#28 24.06 Fetched 499 kB in 0s (1147 kB/s)
#28 24.11 Selecting previously unselected package python3-pkg-resources.
#28 24.11 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23424 files and directories currently installed.)
#28 24.26 Preparing to unpack .../python3-pkg-resources_52.0.0-4_all.deb ...
#28 24.26 Unpacking python3-pkg-resources (52.0.0-4) ...
#28 24.32 Selecting previously unselected package supervisor.
#28 24.33 Preparing to unpack .../supervisor_4.2.2-2_all.deb ...
#28 24.34 Unpacking supervisor (4.2.2-2) ...
#28 24.42 Setting up python3-pkg-resources (52.0.0-4) ...
#28 24.79 Setting up supervisor (4.2.2-2) ...
#28 25.21 invoke-rc.d: could not determine current runlevel
#28 25.22 invoke-rc.d: policy-rc.d denied execution of start.
#28 DONE 25.4s

#29 [backend  4/10] RUN if [ "true" = "true" ]; then     git clone https://ghproxy.com/https://github.com/genuine-oj/backend.git server;     else     git clone https://github.com/genuine-oj/backend.git server;     fi
#29 0.494 Cloning into 'server'...
#29 DONE 4.6s

#30 [backend  5/10] RUN cd server && if [ "true" = "true" ]; then     pip3 install -r requirements.txt --no-cache-dir -i https://mirrors.aliyun.com/pypi/simple/ && pip3 install psycopg2 uwsgi --no-cache-dir -i https://mirrors.aliyun.com/pypi/simple/;     else     pip3 install -r requirements.txt --no-cache-dir && pip3 install psycopg2 uwsgi --no-cache-dir;     fi
#30 2.859 Looking in indexes: https://mirrors.aliyun.com/pypi/simple/
#30 3.307 Collecting django~=3.2.13
#30 3.373   Downloading https://mirrors.aliyun.com/pypi/packages/97/8d/03ac2f7a3f751f597be12c03a09147f9ca80906264044bb05758bbcc2b32/Django-3.2.21-py3-none-any.whl (7.9 MB)
#30 4.074      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.9/7.9 MB 11.3 MB/s eta 0:00:00
#30 4.574 Collecting djangorestframework~=3.13.1
#30 4.790   Downloading https://mirrors.aliyun.com/pypi/packages/c8/45/2588c7c5a01a7da6822c6ffbc9a731d498c318a803a29ae780ec635ea41d/djangorestframework-3.13.1-py3-none-any.whl (958 kB)
#30 4.886      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 958.3/958.3 kB 10.5 MB/s eta 0:00:00
#30 5.027 Collecting django-filter~=21.1
#30 5.195   Downloading https://mirrors.aliyun.com/pypi/packages/37/90/8fbf530e14dbcaf502cd80078cbae9e4f805f20888973488ebe8480c3c28/django_filter-21.1-py3-none-any.whl (81 kB)
#30 5.209      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 81.4/81.4 kB 5.6 MB/s eta 0:00:00
#30 5.387 Collecting django-redis~=5.2.0
#30 5.613   Downloading https://mirrors.aliyun.com/pypi/packages/75/59/35ac380419a4eafcc30660eaf142cbb334b19922c7250254636e406b8b82/django_redis-5.2.0-py3-none-any.whl (30 kB)
#30 5.894 Collecting celery~=5.2.6
#30 5.994   Downloading https://mirrors.aliyun.com/pypi/packages/1d/99/21fe9d1829cab4fc77d18f89d0c4cbcfe754e95f8b8f4af64fe4997c442f/celery-5.2.7-py3-none-any.whl (405 kB)
#30 6.057      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 405.6/405.6 kB 6.9 MB/s eta 0:00:00
#30 6.316 Collecting channels~=3.0.5
#30 6.735   Downloading https://mirrors.aliyun.com/pypi/packages/fd/45/31031f6b405b41fdc5f5d9f2b1fc1ddf5717a23bb2c64d62838cdc63ce5c/channels-3.0.5-py3-none-any.whl (38 kB)
#30 6.964 Collecting channels-redis~=3.4.0
#30 7.099   Downloading https://mirrors.aliyun.com/pypi/packages/21/08/960be1f5e2155b8f034ffb4ed73378d8ac52574184658bfcf1ced09c7b17/channels_redis-3.4.1-py3-none-any.whl (20 kB)
#30 7.389 Collecting drf-yasg~=1.20.0
#30 7.643   Downloading https://mirrors.aliyun.com/pypi/packages/c0/ad/a0db5a8ce00eba3eb36024d4ef4c455751cc83b4abc26ef88070f4da9fc2/drf_yasg-1.20.3-py2.py3-none-any.whl (6.4 MB)
#30 8.098      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.4/6.4 MB 14.3 MB/s eta 0:00:00
#30 8.194 Collecting websocket-client~=1.3.3
#30 8.322   Downloading https://mirrors.aliyun.com/pypi/packages/67/b4/91683d7d5f66393e8877492fe4763304f82dbe308658a8db98f7a9e20baf/websocket_client-1.3.3-py3-none-any.whl (54 kB)
#30 8.336      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.3/54.3 kB 4.3 MB/s eta 0:00:00
#30 8.568 Collecting psycopg2~=2.9.3
#30 8.811   Downloading https://mirrors.aliyun.com/pypi/packages/9e/78/3b15ee8bbbf36f8bace9b0e6fe8a7481372650c76bcf1a7de1ed723cce96/psycopg2-2.9.8.tar.gz (383 kB)
#30 8.854      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 383.8/383.8 kB 9.9 MB/s eta 0:00:00
#30 8.946   Preparing metadata (setup.py): started
#30 9.690   Preparing metadata (setup.py): finished with status 'done'
#30 9.869 Collecting requests~=2.28.1
#30 9.950   Downloading https://mirrors.aliyun.com/pypi/packages/d2/f4/274d1dbe96b41cf4e0efb70cbced278ffd61b5c7bb70338b62af94ccb25b/requests-2.28.2-py3-none-any.whl (62 kB)
#30 9.957      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 11.7 MB/s eta 0:00:00
#30 10.14 Collecting pytz
#30 10.19   Downloading https://mirrors.aliyun.com/pypi/packages/32/4d/aaf7eff5deb402fd9a24a1449a8119f00d74ae9c2efa79f8ef9994261fc2/pytz-2023.3.post1-py2.py3-none-any.whl (502 kB)
#30 10.22      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 502.5/502.5 kB 17.8 MB/s eta 0:00:00
#30 10.35 Collecting sqlparse>=0.2.2
#30 10.47   Downloading https://mirrors.aliyun.com/pypi/packages/98/5a/66d7c9305baa9f11857f247d4ba761402cea75db6058ff850ed7128957b7/sqlparse-0.4.4-py3-none-any.whl (41 kB)
#30 10.47      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 41.2/41.2 kB 52.2 MB/s eta 0:00:00
#30 10.56 Collecting asgiref<4,>=3.3.2
#30 10.63   Downloading https://mirrors.aliyun.com/pypi/packages/9b/80/b9051a4a07ad231558fcd8ffc89232711b4e618c15cb7a392a17384bbeef/asgiref-3.7.2-py3-none-any.whl (24 kB)
#30 10.81 Collecting redis!=4.0.0,!=4.0.1,>=3
#30 10.89   Downloading https://mirrors.aliyun.com/pypi/packages/0b/34/a01250ac1fc9bf9161e07956d2d580413106ce02d5591470130a25c599e3/redis-5.0.1-py3-none-any.whl (250 kB)
#30 10.90      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 250.3/250.3 kB 53.5 MB/s eta 0:00:00
#30 11.12 Collecting click-didyoumean>=0.0.3
#30 11.20   Downloading https://mirrors.aliyun.com/pypi/packages/ad/36/4599267417fc78b587b1588e0647a468c60b36c02bb723d450d050738fa8/click_didyoumean-0.3.0-py3-none-any.whl (2.7 kB)
#30 11.28 Collecting click-repl>=0.2.0
#30 11.42   Downloading https://mirrors.aliyun.com/pypi/packages/52/40/9d857001228658f0d59e97ebd4c346fe73e138c6de1bce61dc568a57c7f8/click_repl-0.3.0-py3-none-any.whl (10 kB)
#30 11.52 Collecting vine<6.0,>=5.0.0
#30 11.58   Downloading https://mirrors.aliyun.com/pypi/packages/8d/61/a7badb48186919a9fd7cf0ef427cab6d16e0ed474035c36fa64ddd72bfa2/vine-5.0.0-py2.py3-none-any.whl (9.4 kB)
#30 11.65 Collecting click<9.0,>=8.0.3
#30 11.74   Downloading https://mirrors.aliyun.com/pypi/packages/00/2e/d53fa4befbf2cfa713304affc7ca780ce4fc1fd8710527771b58311a3229/click-8.1.7-py3-none-any.whl (97 kB)
#30 11.74      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 97.9/97.9 kB 169.9 MB/s eta 0:00:00
#30 11.86 Collecting billiard<4.0,>=3.6.4.0
#30 12.04   Downloading https://mirrors.aliyun.com/pypi/packages/2b/89/0c43de91d4e52eaa7bd748771d417f6ac9e51e66b2f61928c2151bf65878/billiard-3.6.4.0-py3-none-any.whl (89 kB)
#30 12.04      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 89.5/89.5 kB 51.3 MB/s eta 0:00:00
#30 12.12 Collecting click-plugins>=1.1.1
#30 12.17   Downloading https://mirrors.aliyun.com/pypi/packages/e9/da/824b92d9942f4e472702488857914bdd50f73021efea15b4cad9aca8ecef/click_plugins-1.1.1-py2.py3-none-any.whl (7.5 kB)
#30 12.35 Collecting kombu<6.0,>=5.2.3
#30 12.53   Downloading https://mirrors.aliyun.com/pypi/packages/86/dc/8a252a772d3a18008fab6fd3ec1bed16a6c3351260a1023c8e8f95759454/kombu-5.3.2-py3-none-any.whl (196 kB)
#30 12.58      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 196.7/196.7 kB 4.1 MB/s eta 0:00:00
#30 12.74 Collecting daphne<4,>=3.0
#30 12.90   Downloading https://mirrors.aliyun.com/pypi/packages/5c/a3/52d62474eae7f665837434c2685d1b7ec55d1c0336ea84e1cd5693699554/daphne-3.0.2-py3-none-any.whl (26 kB)
#30 13.33 Collecting msgpack~=1.0
#30 13.38   Downloading https://mirrors.aliyun.com/pypi/packages/46/95/d0440400485eab1bf50f1efe5118967b539f3191d994c3dfc220657594cd/msgpack-1.0.7-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (530 kB)
#30 13.44      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 530.8/530.8 kB 9.0 MB/s eta 0:00:00
#30 13.56 Collecting aioredis~=1.0
#30 13.71   Downloading https://mirrors.aliyun.com/pypi/packages/b0/64/1b1612d0a104f21f80eb4c6e1b6075f2e6aba8e228f46f229cfd3fdac859/aioredis-1.3.1-py3-none-any.whl (65 kB)
#30 13.73      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.3/65.3 kB 4.5 MB/s eta 0:00:00
#30 14.23 Collecting ruamel.yaml>=0.16.13
#30 14.42   Downloading https://mirrors.aliyun.com/pypi/packages/45/29/061265cf2fdcead209b62779be813d2af935e0c47e6339ac9ee53c023312/ruamel.yaml-0.17.33-py3-none-any.whl (112 kB)
#30 14.45      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.3/112.3 kB 3.8 MB/s eta 0:00:00
#30 14.62 Collecting uritemplate>=3.0.0
#30 14.68   Downloading https://mirrors.aliyun.com/pypi/packages/81/c0/7461b49cd25aeece13766f02ee576d1db528f1c37ce69aee300e075b485b/uritemplate-4.1.1-py2.py3-none-any.whl (10 kB)
#30 14.94 Collecting coreapi>=2.3.3
#30 15.09   Downloading https://mirrors.aliyun.com/pypi/packages/fc/3a/9dedaad22962770edd334222f2b3c3e7ad5e1c8cab1d6a7992c30329e2e5/coreapi-2.3.3-py2.py3-none-any.whl (25 kB)
#30 15.27 Collecting inflection>=0.3.1
#30 15.42   Downloading https://mirrors.aliyun.com/pypi/packages/59/91/aa6bde563e0085a02a435aa99b49ef75b0a4b062635e606dab23ce18d720/inflection-0.5.1-py2.py3-none-any.whl (9.5 kB)
#30 15.48 Collecting packaging>=21.0
#30 15.54   Downloading https://mirrors.aliyun.com/pypi/packages/ec/1a/610693ac4ee14fcdf2d9bf3c493370e4f2ef7ae2e19217d7a237ff42367d/packaging-23.2-py3-none-any.whl (53 kB)
#30 15.54      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.0/53.0 kB 102.8 MB/s eta 0:00:00
#30 15.73 Collecting coreschema>=0.0.4
#30 15.87   Downloading https://mirrors.aliyun.com/pypi/packages/93/08/1d105a70104e078718421e6c555b8b293259e7fc92f7e9a04869947f198f/coreschema-0.0.4.tar.gz (10 kB)
#30 15.88   Preparing metadata (setup.py): started
#30 16.11   Preparing metadata (setup.py): finished with status 'done'
#30 16.20 Collecting certifi>=2017.4.17
#30 16.23   Downloading https://mirrors.aliyun.com/pypi/packages/4c/dd/2234eab22353ffc7d94e8d13177aaa050113286e93e7b40eae01fbf7c3d9/certifi-2023.7.22-py3-none-any.whl (158 kB)
#30 16.24      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 158.3/158.3 kB 47.6 MB/s eta 0:00:00
#30 16.45 Collecting charset-normalizer<4,>=2
#30 16.56   Downloading https://mirrors.aliyun.com/pypi/packages/5d/42/9d11cb5f3326501d7e913d2581a4e3b237ef7ee3e121b2faa89c1676125b/charset_normalizer-3.3.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (138 kB)
#30 16.59      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 138.7/138.7 kB 4.0 MB/s eta 0:00:00
#30 16.69 Collecting urllib3<1.27,>=1.21.1
#30 16.71   Downloading https://mirrors.aliyun.com/pypi/packages/c5/05/c214b32d21c0b465506f95c4f28ccbcba15022e000b043b72b3df7728471/urllib3-1.26.16-py2.py3-none-any.whl (143 kB)
#30 16.72      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 143.1/143.1 kB 48.4 MB/s eta 0:00:00
#30 16.76 Collecting idna<4,>=2.5
#30 16.79   Downloading https://mirrors.aliyun.com/pypi/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl (61 kB)
#30 16.79      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 250.5 MB/s eta 0:00:00
#30 17.14 Collecting hiredis
#30 17.28   Downloading https://mirrors.aliyun.com/pypi/packages/0f/e9/1fd5d787ab8082112fd57ff92c55ec7ccf2a21892e1832de06de9ce7728f/hiredis-2.2.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (165 kB)
#30 17.31      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 165.9/165.9 kB 5.9 MB/s eta 0:00:00
#30 17.44 Collecting async-timeout
#30 17.52   Downloading https://mirrors.aliyun.com/pypi/packages/a7/fa/e01228c2938de91d47b307831c62ab9e4001e747789d0b05baf779a6488c/async_timeout-4.0.3-py3-none-any.whl (5.7 kB)
#30 17.57 Collecting typing-extensions>=4
#30 17.60   Downloading https://mirrors.aliyun.com/pypi/packages/24/21/7d397a4b7934ff4028987914ac1044d3b7d52712f30e2ac7a2ae5bc86dd0/typing_extensions-4.8.0-py3-none-any.whl (31 kB)
#30 17.81 Collecting prompt-toolkit>=3.0.36
#30 17.90   Downloading https://mirrors.aliyun.com/pypi/packages/a9/b4/ba77c84edf499877317225d7b7bc047a81f7c2eed9628eeb6bab0ac2e6c9/prompt_toolkit-3.0.39-py3-none-any.whl (385 kB)
#30 17.91      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 385.2/385.2 kB 36.1 MB/s eta 0:00:00
#30 18.05 Collecting itypes
#30 18.21   Downloading https://mirrors.aliyun.com/pypi/packages/3f/bb/3bd99c7cd34d4a123b2903e16da364f6d2078b1c3a3530a8ad105c668104/itypes-1.2.0-py2.py3-none-any.whl (4.8 kB)
#30 18.27 Collecting jinja2
#30 18.35   Downloading https://mirrors.aliyun.com/pypi/packages/bc/c3/f068337a370801f372f2f8f6bad74a5c140f6fda3d9de154052708dd3c65/Jinja2-3.1.2-py3-none-any.whl (133 kB)
#30 18.35      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 50.8 MB/s eta 0:00:00
#30 18.57 Collecting twisted[tls]>=18.7
#30 18.73   Downloading https://mirrors.aliyun.com/pypi/packages/2a/e3/9fe9cf016d32d050a2eec518c2f5156f7623b42e1ef3f2fa3e80c0ef654c/twisted-23.8.0-py3-none-any.whl (3.1 MB)
#30 18.97      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 13.1 MB/s eta 0:00:00
#30 19.30 Collecting autobahn>=0.18
#30 19.50   Downloading https://mirrors.aliyun.com/pypi/packages/92/ee/c3320c326919394ff597592549ff5d29d2f7bf12be9ddaa9017caff1a170/autobahn-23.6.2.tar.gz (480 kB)
#30 19.56      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 480.8/480.8 kB 8.1 MB/s eta 0:00:00
#30 19.65   Preparing metadata (setup.py): started
#30 20.03   Preparing metadata (setup.py): finished with status 'done'
#30 20.28 Collecting amqp<6.0.0,>=5.1.1
#30 20.45   Downloading https://mirrors.aliyun.com/pypi/packages/de/a3/e7b3b9d34239bae066df135060e225929d639731050c920fdc740d6b7897/amqp-5.1.1-py3-none-any.whl (50 kB)
#30 20.46      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 50.8/50.8 kB 122.3 MB/s eta 0:00:00
#30 20.69 Collecting ruamel.yaml.clib>=0.2.7
#30 20.78   Downloading https://mirrors.aliyun.com/pypi/packages/51/9d/f6189b21e8669a7c8b693b86cbf235db7de4229ea006d9085bbe5c05eea8/ruamel.yaml.clib-0.2.7-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (485 kB)
#30 20.83      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 485.6/485.6 kB 10.9 MB/s eta 0:00:00
#30 21.04 Collecting txaio>=21.2.1
#30 21.22   Downloading https://mirrors.aliyun.com/pypi/packages/7d/6c/a53cc9a97c2da76d9cd83c03f377468599a28f2d4ad9fc71c3b99640e71e/txaio-23.1.1-py2.py3-none-any.whl (30 kB)
#30 21.74 Collecting cryptography>=3.4.6
#30 21.89   Downloading https://mirrors.aliyun.com/pypi/packages/eb/4b/f86cc66c632cf0948ca1712aadd255f624deef1cd371ea3bfd30851e188d/cryptography-41.0.4-cp37-abi3-manylinux_2_28_x86_64.whl (4.4 MB)
#30 22.15      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.4/4.4 MB 16.6 MB/s eta 0:00:00
#30 22.22 Collecting hyperlink>=21.0.0
#30 22.27   Downloading https://mirrors.aliyun.com/pypi/packages/6e/aa/8caf6a0a3e62863cbb9dab27135660acba46903b703e224f14f447e57934/hyperlink-21.0.0-py2.py3-none-any.whl (74 kB)
#30 22.28      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 74.6/74.6 kB 113.5 MB/s eta 0:00:00
#30 22.28 Requirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from autobahn>=0.18->daphne<4,>=3.0->channels~=3.0.5->-r requirements.txt (line 6)) (65.5.1)
#30 22.36 Collecting wcwidth
#30 22.43   Downloading https://mirrors.aliyun.com/pypi/packages/58/19/a9ce39f89cf58cf1e7ce01c8bb76ab7e2c7aadbc5a2136c3e192097344f5/wcwidth-0.2.8-py2.py3-none-any.whl (31 kB)
#30 22.57 Collecting incremental>=22.10.0
#30 22.74   Downloading https://mirrors.aliyun.com/pypi/packages/77/51/8073577012492fcd15628e811db585f447c500fa407e944ab3a18ec55fb7/incremental-22.10.0-py2.py3-none-any.whl (16 kB)
#30 22.79 Collecting automat>=0.8.0
#30 22.87   Downloading https://mirrors.aliyun.com/pypi/packages/29/90/64aabce6c1b820395452cc5472b8f11cd98320f40941795b8069aef4e0e0/Automat-22.10.0-py2.py3-none-any.whl (26 kB)
#30 22.92 Collecting constantly>=15.1
#30 23.09   Downloading https://mirrors.aliyun.com/pypi/packages/b9/65/48c1909d0c0aeae6c10213340ce682db01b48ea900a7d9fce7a7910ff318/constantly-15.1.0-py2.py3-none-any.whl (7.9 kB)
#30 23.37 Collecting zope-interface>=5
#30 23.50   Downloading https://mirrors.aliyun.com/pypi/packages/36/79/a99f5798a53df407554e00c1cc70ac5a900fc879853cc1a9edd7016bf2d2/zope.interface-6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (246 kB)
#30 23.51      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.0/247.0 kB 36.6 MB/s eta 0:00:00
#30 23.57 Collecting attrs>=21.3.0
#30 23.63   Downloading https://mirrors.aliyun.com/pypi/packages/f0/eb/fcb708c7bf5056045e9e98f62b93bd7467eb718b0202e7698eb11d66416c/attrs-23.1.0-py3-none-any.whl (61 kB)
#30 23.64      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.2/61.2 kB 72.6 MB/s eta 0:00:00
#30 23.74 Collecting pyopenssl>=21.0.0
#30 23.79   Downloading https://mirrors.aliyun.com/pypi/packages/f0/e2/f8b4f1c67933a4907e52228241f4bd52169f3196b70af04403b29c63238a/pyOpenSSL-23.2.0-py3-none-any.whl (59 kB)
#30 23.79      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.0/59.0 kB 186.8 MB/s eta 0:00:00
#30 23.91 Collecting service-identity>=18.1.0
#30 24.05   Downloading https://mirrors.aliyun.com/pypi/packages/0c/42/bf07f277b45da6e350df3314804aa2b5411e0938d3b78b4f17da2e1302c2/service_identity-23.1.0-py3-none-any.whl (12 kB)
#30 24.22 Collecting MarkupSafe>=2.0
#30 24.28   Downloading https://mirrors.aliyun.com/pypi/packages/12/b3/d9ed2c0971e1435b8a62354b18d3060b66c8cb1d368399ec0b9baa7c0ee5/MarkupSafe-2.1.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)
#30 24.37 Collecting six
#30 24.40   Downloading https://mirrors.aliyun.com/pypi/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl (11 kB)
#30 24.73 Collecting cffi>=1.12
#30 24.84   Downloading https://mirrors.aliyun.com/pypi/packages/c9/7c/43d81bdd5a915923c3bad5bb4bff401ea00ccc8e28433fb6083d2e3bf58e/cffi-1.16.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (443 kB)
#30 24.91      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 443.9/443.9 kB 6.6 MB/s eta 0:00:00
#30 25.10 Collecting pyasn1-modules
#30 25.15   Downloading https://mirrors.aliyun.com/pypi/packages/cd/8e/bea464350e1b8c6ed0da3a312659cb648804a08af6cacc6435867f74f8bd/pyasn1_modules-0.3.0-py2.py3-none-any.whl (181 kB)
#30 25.15      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 181.3/181.3 kB 65.9 MB/s eta 0:00:00
#30 25.24 Collecting pyasn1
#30 25.28   Downloading https://mirrors.aliyun.com/pypi/packages/14/e5/b56a725cbde139aa960c26a1a3ca4d4af437282e20b5314ee6a3501e7dfc/pyasn1-0.5.0-py2.py3-none-any.whl (83 kB)
#30 25.28      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 83.9/83.9 kB 157.3 MB/s eta 0:00:00
#30 25.43 Collecting pycparser
#30 25.50   Downloading https://mirrors.aliyun.com/pypi/packages/62/d5/5f610ebe421e85889f2e55e33b7f9a6795bd982198517d912eb1c76e1a53/pycparser-2.21-py2.py3-none-any.whl (118 kB)
#30 25.51      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.7/118.7 kB 20.9 MB/s eta 0:00:00
#30 25.60 Building wheels for collected packages: psycopg2, coreschema, autobahn
#30 25.60   Building wheel for psycopg2 (setup.py): started
#30 31.78   Building wheel for psycopg2 (setup.py): finished with status 'done'
#30 31.78   Created wheel for psycopg2: filename=psycopg2-2.9.8-cp310-cp310-linux_x86_64.whl size=479354 sha256=9bf001130cb38f9a7f793604a74aa25c2c930b63c948706b5b2b5ddda16d3ee2
#30 31.78   Stored in directory: /tmp/pip-ephem-wheel-cache-ikbb3_tz/wheels/26/e1/81/0eb863906e2d580c7b1fffdf4f4fc54c06f60e491d1147b44a
#30 31.78   Building wheel for coreschema (setup.py): started
#30 32.07   Building wheel for coreschema (setup.py): finished with status 'done'
#30 32.07   Created wheel for coreschema: filename=coreschema-0.0.4-py3-none-any.whl size=15015 sha256=9b5938ad4203c0aac198c2820ec587024401a11702a7208db16707852c52b1a8
#30 32.07   Stored in directory: /tmp/pip-ephem-wheel-cache-ikbb3_tz/wheels/0c/ab/7c/a0c92d8c0783690bf817db7b7b43010d04fbccedd0ab1ecd2d
#30 32.08   Building wheel for autobahn (setup.py): started
#30 32.80   Building wheel for autobahn (setup.py): finished with status 'done'
#30 32.80   Created wheel for autobahn: filename=autobahn-23.6.2-py2.py3-none-any.whl size=666846 sha256=750063807007eaeeeb1c3ff38498b450a544d2ab4fc3a5c14c449acdd5692dfa
#30 32.80   Stored in directory: /tmp/pip-ephem-wheel-cache-ikbb3_tz/wheels/4d/72/5f/e32f0675625484102532213a84abd7e7c1557e400ad4478b40
#30 32.81 Successfully built psycopg2 coreschema autobahn
#30 33.29 Installing collected packages: wcwidth, pytz, itypes, incremental, constantly, billiard, zope-interface, websocket-client, vine, urllib3, uritemplate, typing-extensions, txaio, sqlparse, six, ruamel.yaml.clib, pycparser, pyasn1, psycopg2, prompt-toolkit, packaging, msgpack, MarkupSafe, inflection, idna, hiredis, click, charset-normalizer, certifi, attrs, async-timeout, ruamel.yaml, requests, redis, pyasn1-modules, jinja2, hyperlink, click-repl, click-plugins, click-didyoumean, cffi, automat, asgiref, amqp, aioredis, twisted, kombu, django, cryptography, coreschema, service-identity, pyopenssl, djangorestframework, django-redis, django-filter, coreapi, celery, autobahn, drf-yasg, daphne, channels, channels-redis
#30 42.64 Successfully installed MarkupSafe-2.1.3 aioredis-1.3.1 amqp-5.1.1 asgiref-3.7.2 async-timeout-4.0.3 attrs-23.1.0 autobahn-23.6.2 automat-22.10.0 billiard-3.6.4.0 celery-5.2.7 certifi-2023.7.22 cffi-1.16.0 channels-3.0.5 channels-redis-3.4.1 charset-normalizer-3.3.0 click-8.1.7 click-didyoumean-0.3.0 click-plugins-1.1.1 click-repl-0.3.0 constantly-15.1.0 coreapi-2.3.3 coreschema-0.0.4 cryptography-41.0.4 daphne-3.0.2 django-3.2.21 django-filter-21.1 django-redis-5.2.0 djangorestframework-3.13.1 drf-yasg-1.20.3 hiredis-2.2.3 hyperlink-21.0.0 idna-3.4 incremental-22.10.0 inflection-0.5.1 itypes-1.2.0 jinja2-3.1.2 kombu-5.3.2 msgpack-1.0.7 packaging-23.2 prompt-toolkit-3.0.39 psycopg2-2.9.8 pyasn1-0.5.0 pyasn1-modules-0.3.0 pycparser-2.21 pyopenssl-23.2.0 pytz-2023.3.post1 redis-5.0.1 requests-2.28.2 ruamel.yaml-0.17.33 ruamel.yaml.clib-0.2.7 service-identity-23.1.0 six-1.16.0 sqlparse-0.4.4 twisted-23.8.0 txaio-23.1.1 typing-extensions-4.8.0 uritemplate-4.1.1 urllib3-1.26.16 vine-5.0.0 wcwidth-0.2.8 websocket-client-1.3.3 zope-interface-6.0
#30 42.64 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#30 42.98 
#30 42.98 [notice] A new release of pip is available: 23.0.1 -> 23.2.1
#30 42.98 [notice] To update, run: pip install --upgrade pip
#30 43.77 Looking in indexes: https://mirrors.aliyun.com/pypi/simple/
#30 43.77 Requirement already satisfied: psycopg2 in /usr/local/lib/python3.10/site-packages (2.9.8)
#30 44.07 Collecting uwsgi
#30 44.29   Downloading https://mirrors.aliyun.com/pypi/packages/a7/4e/c4d5559b3504bb65175a759392b03cac04b8771e9a9b14811adf1151f02f/uwsgi-2.0.22.tar.gz (809 kB)
#30 44.37      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 809.7/809.7 kB 11.1 MB/s eta 0:00:00
#30 44.60   Preparing metadata (setup.py): started
#30 45.01   Preparing metadata (setup.py): finished with status 'done'
#30 45.01 Building wheels for collected packages: uwsgi
#30 45.01   Building wheel for uwsgi (setup.py): started
#30 54.45   Building wheel for uwsgi (setup.py): finished with status 'done'
#30 54.46   Created wheel for uwsgi: filename=uWSGI-2.0.22-cp310-cp310-linux_x86_64.whl size=589415 sha256=9c8cc1dad2302d3a132370ba9d74e53edd4a6062a392e5d0feb0cfd4d25c6426
#30 54.46   Stored in directory: /tmp/pip-ephem-wheel-cache-3t054dh6/wheels/ba/6d/8d/40e8107de9323e1a258326e180141e90601fd583f0a7b1b873
#30 54.46 Successfully built uwsgi
#30 54.94 Installing collected packages: uwsgi
#30 54.98 Successfully installed uwsgi-2.0.22
#30 54.98 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#30 55.24 
#30 55.24 [notice] A new release of pip is available: 23.0.1 -> 23.2.1
#30 55.24 [notice] To update, run: pip install --upgrade pip
#30 DONE 55.6s

#31 [backend  6/10] RUN mkdir -p /data/problem_files /data/judge_data/submission /data/judge_data/test_data && apt-get purge -y --auto-remove git && apt-get clean && rm -rf /var/lib/apt/lists/*
#31 0.549 Reading package lists...
#31 0.954 Building dependency tree...
#31 1.073 Reading state information...
#31 1.238 The following packages will be REMOVED:
#31 1.240   git* git-man* libcurl3-gnutls* liberror-perl*
#31 1.416 0 upgraded, 0 newly installed, 4 to remove and 0 not upgraded.
#31 1.416 After this operation, 38.7 MB disk space will be freed.
#31 1.429 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23596 files and directories currently installed.)
#31 1.464 Removing git (1:2.30.2-1+deb11u2) ...
#31 1.595 Removing git-man (1:2.30.2-1+deb11u2) ...
#31 1.639 Removing libcurl3-gnutls:amd64 (7.74.0-1.3+deb11u7) ...
#31 1.677 Removing liberror-perl (0.17029-1) ...
#31 1.724 Processing triggers for libc-bin (2.31-13+deb11u6) ...
#31 1.925 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 22593 files and directories currently installed.)
#31 1.937 Purging configuration files for git (1:2.30.2-1+deb11u2) ...
#31 DONE 2.0s

#32 [backend  7/10] COPY ./config/backend-entrypoint.sh /srv/entrypoint.sh
#32 DONE 0.0s

#33 [backend  8/10] COPY ./config/uwsgi.ini ./config/supervisord.conf /srv/
#33 DONE 0.0s

#34 [backend  9/10] WORKDIR /srv
#34 DONE 0.0s

#35 [backend 10/10] RUN chmod +x /srv/entrypoint.sh
#35 DONE 0.5s

#36 [backend] exporting to image
#36 exporting layers
#36 exporting layers 1.5s done
#36 writing image sha256:98572906e581a25fce7f3b2483bf47a62e5a0a02dc9438c66f0cbb301402c32d done
#36 naming to docker.io/genuine-oj/backend:latest done
#36 DONE 1.5s
